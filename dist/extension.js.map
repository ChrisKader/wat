{"version":3,"file":"extension.js","mappings":"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","sources":["../external commonjs \"vscode\"",".././src/addonOutline.ts","../external node-commonjs \"path\"","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object",".././src/extension.ts"],"sourcesContent":["module.exports = require(\"vscode\");","import {\n\tCommand,\n\tcommands as Commands,\n\tEvent,\n\tEventEmitter,\n\tExtensionContext,\n\tFileDecoration,\n\tProviderResult,\n\tRange,\n\tSelection,\n\tTextDocumentChangeEvent,\n\tTextEditor,\n\tTreeDataProvider,\n\tTreeItem,\n\tTreeItemCollapsibleState,\n\tTreeItemLabel,\n\tUri,\n\twindow as Window,\n\tworkspace,\n\tworkspace as Workspace\n} from 'vscode';\nimport * as path from 'path';\nimport { timeStamp } from 'console';\nimport { fstat } from 'fs';\n\nconst regExList = {\n\ttoc: {\n\t\tlines: /^(?<line>.*?)$/gm,\n\t\tmetaData: /^## ?(?<tag>.+?): ?(?<value>[\\S ]*?)$/gm,\n\t\tfiles: /^(?<file>[\\S]+\\.(?<ext>[a-z]+))/gm,\n\t},\n\ttoc1: /(?:(?<line>^(?:^(?:## ?(?<metadata>(?<tagName>.+)(?:: )(?<tagValue>[\\S ]+)))|^(?:(?:# )?#(?<keywordEnd>@end[a-z-]+@))|^(?:(?:# )?#(?<keywordStart>@[a-z-]+@))|^(?<comment># ?(?<text>[\\S ]+))|^(?<file>[\\S]+\\.(?<ext>[a-z]+))))\\n?|$(?<blankLine>[\\n]))/gm\n};\n//(^.*?$)\n//(?:^## ?(?<metadata>.+$))\nconst headerFields = {\n\tinterface: [\n\t\t{\n\t\t\ttoc: 'Interface',\n\t\t\tfriendly: 'Interface',\n\t\t},\n\t\t{\n\t\t\ttoc: 'Interface-Classic',\n\t\t\tfriendly: 'Interface Classic',\n\t\t},\n\t\t{\n\t\t\ttoc: 'Interface-BCC',\n\t\t\tfriendly: 'Interface BCC',\n\t\t}\n\t],\n\ttitle: [\n\t\t{\n\t\t\ttoc: 'Title',\n\t\t\tfriendly: 'Title',\n\t\t}\n\t],\n\tauthor: [{\n\t\ttoc: 'Author',\n\t\tfriendly: 'Author',\n\t}],\n\tversion: [{\n\t\ttoc: 'Version',\n\t\tfriendly: 'Version',\n\t}],\n\tloadOnDemand: [{\n\t\ttoc: 'Load On Demand',\n\t\tfriendly: 'Load On Demand',\n\t}],\n\tsecure: [{\n\t\ttoc: 'Secure',\n\t\tfriendly: 'Secure',\n\t}],\n\tdefaultState: [{\n\t\ttoc: 'Default State',\n\t\tfriendly: 'Default State',\n\t}],\n\tnotes: [{\n\t\ttoc: 'Notes',\n\t\tfriendly: 'Notes',\n\t}],\n\tdependencies: [{\n\t\ttoc: 'Dependencies',\n\t\tfriendly: 'Dependencies',\n\t}],\n\toptionalDependencies: [{\n\t\ttoc: 'OptionalDeps',\n\t\tfriendly: 'Optional Dependencies',\n\t}],\n\tloadWith: [{\n\t\ttoc: 'LoadWith',\n\t\tfriendly: 'Load With',\n\t}],\n\tloadManagers: [{\n\t\ttoc: 'LoadManagers',\n\t\tfriendly: 'Load Managers',\n\t}],\n\tsavedVariables: [{\n\t\ttoc: 'SavedVariables',\n\t\tfriendly: 'Saved Variables',\n\t}],\n\tsavedVariablesPerCharacter: [{\n\t\ttoc: 'SavedVariabesPerChar',\n\t\tfriendly: 'Saved Variabes Per Character',\n\t}],\n\tfiles: [{\n\t\ttoc: 'Files',\n\t\tfriendly: 'Files',\n\t}],\n};\nexport class TocDataEntry extends Map{\n\t\n}\nexport class TocFile {\n\n\ttocData:Map<string,string> = new Map();\n\n\t\t/* title: new Map(),\n\t\tauthor: new Map(),\n\t\tversion: new Map(),\n\t\tentryType: new Map(),\n\t\tloadOnDemand: new Map(),\n\t\tsecure: new Map(),\n\t\tdefaultState: new Map(),\n\t\tnotes: new Map(),\n\t\tthirdParty: new Map(),\n\t\tdependencies: new Map(),\n\t\toptionalDependencies: new Map(),\n\t\tloadWith: new Map(),\n\t\tloadManagers: new Map(),\n\t\tsavedVariables: new Map(),\n\t\tsavedVariablesPerCharacter: new Map(),\n\t\tfiles: new Map(), */\n\n\tlines = new Map();\n\taddonFolder: string;\n\tfiles = new Map();\n\tconstructor(\n\t\tpublic tocUri: Uri,\n\t\tpublic tocText: string,\n\t) {\n\t\tthis.addonFolder = path.dirname(tocUri.fsPath);\n\n\t\t[...tocText.matchAll(regExList.toc.lines)].map(v => v.groups?.line).map(tocLine => {\n\t\t\tif(tocLine){\n\t\t\t\tconst metaDataArray = [...tocLine.matchAll(regExList.toc.metaData)];\n\t\t\t\tif(metaDataArray.length > 0){\n\t\t\t\t\tmetaDataArray.filter(v => Object.keys(v.groups!).length > 0).map(v => {\n\t\t\t\t\t\tif(v.groups){\n\t\t\t\t\t\t\tthis.tocData.set(v.groups.tag,v.groups.value);\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst fileArray = [...tocLine.matchAll(regExList.toc.files)];\n\t\t\t\t\tif(fileArray.length > 0){\n\t\t\t\t\t\tfileArray.filter(v => Object.keys(v.groups!).length > 0).map(v => {\n\t\t\t\t\t\t\tif(v.groups){\n\t\t\t\t\t\t\t\tthis.files.set(this.files.size + 1,v.groups.file);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n/* \t\t.reduce((tocObj, currentMatch) => {\n\t\t\tif (currentMatch.groups) {\n\t\t\t\tif (currentMatch.groups.line && currentMatch.groups.line.length > 0) {\n\t\t\t\t\tconst tocLine = currentMatch.groups;\n\t\t\t\t\tthis.lines.set((this.lines.size + 1).toString(), tocLine.line);\n\t\t\t\t\tif (tocLine.metadata) {\n\t\t\t\t\t\tif (tocLine.tagName && tocLine.tagValue && tocLine.tagValue.length > 0) {\n\t\t\t\t\t\t\tconst tagName = tocLine.tagName;\n\t\t\t\t\t\t\tconst tagValue = tocLine.tagValue;\n\t\t\t\t\t\t\tif (tagValue.length > 0) {\n\t\t\t\t\t\t\t\tif (tagName.indexOf('Interface') > -1) {\n\t\t\t\t\t\t\t\t\tif (tagName.indexOf('-') === -1) {\n\t\t\t\t\t\t\t\t\t\tthis.interfaceRetail = tagValue;\n\t\t\t\t\t\t\t\t\t} else if (tagName.indexOf('-BCC') > -1) {\n\t\t\t\t\t\t\t\t\t\tthis.interfaceBcc = tagValue;\n\t\t\t\t\t\t\t\t\t} else if (tagName.indexOf('-Classic') > -1) {\n\t\t\t\t\t\t\t\t\t\tthis.interfaceClassic = tagValue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (tagName === 'Title') {\n\t\t\t\t\t\t\t\t\tlet tName = tagName.toLowerCase();\n\t\t\t\t\t\t\t\t\tthis.title = tagValue;\n\t\t\t\t\t\t\t\t} else if (tagName === 'Author') {\n\t\t\t\t\t\t\t\t\tthis.author = tagValue;\n\t\t\t\t\t\t\t\t} else if (tagName === 'Version') {\n\t\t\t\t\t\t\t\t\tthis.version = tagValue;\n\t\t\t\t\t\t\t\t} else if (tagName === 'LoadOnDemand') {\n\t\t\t\t\t\t\t\t\tthis.loadOnDemand = tagValue;\n\t\t\t\t\t\t\t\t} else if (tagName === 'DefaultState') {\n\t\t\t\t\t\t\t\t\tthis.defaultState = tagValue;\n\t\t\t\t\t\t\t\t} else if (tagName.indexOf('Notes') === 0) {\n\t\t\t\t\t\t\t\t\tif (tagName.indexOf('-') === -1) {\n\t\t\t\t\t\t\t\t\t\tthis.notes['enUS'] = tagValue;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.notes[tagName.substring(tagName.indexOf('-') + 1)] = tagValue;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (tagName === 'Dependencies' || tagName === 'OptionalDep' || tagName === 'LoadWith' || tagName.indexOf('SavedVariables') > -1 || tagName === 'LoadManagers') {\n\t\t\t\t\t\t\t\t\tconst tempName = tagName[0].toLowerCase() + tagName.substring(1);\n\t\t\t\t\t\t\t\t\tObject.defineProperty(this, tempName, tagValue.split(\",\").map(v => v.trim()));\n\t\t\t\t\t\t\t\t} else if (tagName === 'Secure') {\n\t\t\t\t\t\t\t\t\tthis.secure = tagValue;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.thirdParty[tagName] = tagValue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (tocLine.file) {\n\t\t\t\t\t\tthis.files.push(tocLine.file);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tocObj;\n\t\t}, {});\n\t\tif (this.title.length === 0) {\n\t\t\tthis.title = this.addonFolder.substring(this.addonFolder.lastIndexOf('/') + 1 || this.addonFolder.lastIndexOf('\\\\') + 1);\n\t\t} */\n\t}\n}\n\nexport interface Entry {\n\ttype: string;\n\tname: string;\n\tindex: number;\n}\n\nexport class AddonOutlineField extends TreeItem {\n\tchildren: AddonOutlineField[] = [];\n\turi?: Uri;\n\tconstructor(\n\t\tlabel: string | TreeItemLabel,\n\t\tdescription: string | boolean,\n\t\tchildren?: Map<string,string>,\n\t\texcludeDescription?: boolean\n\t){\n\t\tsuper('');\n\t\tthis.label = label;\n\t\tthis.description = description;\n\t\tif(children){\n\t\t\tfor(let child of children){\n\t\t\t\tthis.children.push(new AddonOutlineField(\n\t\t\t\t\texcludeDescription? child[1] : child[0],\n\t\t\t\t\texcludeDescription ? false : child[1],\n\t\t\t\t));\n\t\t\t\tthis.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.collapsibleState = TreeItemCollapsibleState.None;\n\t\t}\n\t}\n\ticonPath = {\n\t\tlight: path.join(__dirname, 'dist','resources', 'light', 'dependency.svg'),\n\t\tdark: path.join(__dirname, 'dist','resources', 'dark', 'dependency.svg')\n\t};\n}\n\nexport class AddonOutline extends TreeItem {\n\tchildren: AddonOutlineField[] = [];\n\turi?: Uri;\n\tconstructor(\n\t\ttocFile: TocFile,\n\t) {\n\t\tsuper('');\n\t\tthis.uri = tocFile.tocUri;\n\t\tconst tocFilename = path.basename(tocFile.tocUri.toString());\n\t\tthis.label = tocFile.tocData.get(\"Title\") || tocFilename.substring(0,tocFilename.length - 4);\n\t\tthis.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\tconst fieldKeys = [...tocFile.tocData.keys()];\n\t\tlet keysCompleted = new Map();\n\t\tfor(let field of tocFile.tocData){\n\t\t\tif(keysCompleted.has(field[0]) === false){\n\t\t\t\tconst similarFields = fieldKeys.filter(k => {\n\t\t\t\t\treturn ((keysCompleted.has(k) === false) && k.toLowerCase().indexOf(field[0].toLowerCase()) > -1);\n\t\t\t\t});\n\t\t\t\tconst similarFieldsMap = new Map();\n\t\t\t\tif(similarFields.length > 1){\n\t\t\t\t\tsimilarFields.map(f => {\n\t\t\t\t\t\tsimilarFieldsMap.set(f,tocFile.tocData.get(f));\n\t\t\t\t\t\tkeysCompleted.set(f,f);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.children.push(new AddonOutlineField(\n\t\t\t\t\tfield[0],\n\t\t\t\t\tsimilarFields.length > 1 ? similarFields.length.toString() : field[1],\n\t\t\t\t\tsimilarFields.length > 1 ? similarFieldsMap : undefined\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\t\tthis.children.push(new AddonOutlineField(\n\t\t\t'Files',\n\t\t\ttocFile.files.size.toString(),\n\t\t\ttocFile.files,\n\t\t\ttrue\n\t\t))\n\t}\n\n\ticonPath = {\n\t\tlight: path.join(__dirname,'..','resources', 'light', 'dependency.svg'),\n\t\tdark: path.join(__dirname, '..','resources', 'dark', 'dependency.svg')\n\t};\n}\n\nexport class AddonOutlineProvider implements TreeDataProvider<AddonOutline> {\n\n\tprivate _onDidChangeTreeData: EventEmitter<AddonOutline | undefined | null | void> = new EventEmitter<AddonOutline | undefined | null | void>();\n\treadonly onDidChangeTreeData: Event<AddonOutline | undefined | null | void> = this._onDidChangeTreeData.event;\n\n\t//private tree: json.Node;\n\tprivate editor: TextEditor;\n\tprivate tocFiles:Map<string,TocFile> = new Map();\n\n\tprivate addTocFile(tocFile: TocFile) {\n\t\tthis.tocFiles.set(tocFile.tocUri.toString(),tocFile);\n\t\tthis.refresh(tocFile.tocUri);\n\t}\n\n\tconstructor(private context: ExtensionContext) {\n\t\tthis.editor = Window.activeTextEditor!;\n\t\tWorkspace.findFiles('**/*.toc', null).then(tocUris => {\n\t\t\ttocUris.map(tocUri => {\n\t\t\t\tWorkspace.fs.readFile(tocUri).then(tocFileContents => {\n\t\t\t\t\tlet newTocEntry = new TocFile(tocUri, tocFileContents.toString());\n\t\t\t\t\tthis.addTocFile(newTocEntry);\n\t\t\t\t}, reason => {\n\t\t\t\t\tthrow Error(reason);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\tWindow.onDidChangeActiveTextEditor(() => this.refresh());\n\t\t//Workspace.onDidChangeTextDocument(e => this.onDocumentChanged(e));\n\t\tthis.refresh();\n\n\t}\n\n\trefresh(tocUriStr?: Uri): void {\n\t\tif (tocUriStr) {\n\t\t\t//console.log(`${tocUriStr} added!`);\n\t\t}\n\t\tthis._onDidChangeTreeData.fire();\n\t}\n\n\trename(offset: number): void {\n\t\tWindow.showInputBox({ placeHolder: 'Enter the new label' })\n\t\t\t.then(value => {\n\t\t\t\tif (value !== null && value !== undefined) {\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tgetChildren(element?: AddonOutline): Thenable<AddonOutline[]> {\n\t\t/*\n\t\t'single'\n\t\t'keyedObj'\n\t\t'stringArray'\n\t\t*/\n\t\tif(element && element.children.length > 0) {\n\t\t\treturn Promise.resolve(element.children);\n\t\t}\n\t\treturn Promise.resolve([...this.tocFiles.values()].map((tocFile)=>{\n\t\t\treturn new AddonOutline(tocFile);\n\t\t}));\n\t\t//{ command: 'vscode.open', title: \"Open File\", arguments: [Uri.file(filePath)] },\n\t}\n\n\t/* getParent(element: AddonOutline): ProviderResult<AddonOutline> {\n\t\treturn new AddonOutline(\n\t\t\t'Title',\n\t\t\tcurrentToc.title,\n\t\t\tTreeItemCollapsibleState.Collapsed\n\t\t);\n\t} */\n\n\tgetTreeItem(element: AddonOutline): TreeItem {\n\t\treturn element;\n\n\t\t/* \t\tconst path = json.getLocation(this.text, offset).path;\n\t\t\t\tconst valueNode = json.findNodeAtLocation(this.tree, path);\n\t\t\t\tif (valueNode) {\n\t\t\t\t\tconst hasChildren = valueNode.type === 'object' || valueNode.type === 'array';\n\t\t\t\t\tconst treeItem: TreeItem = new TreeItem(this.getLabel(valueNode), hasChildren ? valueNode.type === 'object' ? TreeItemCollapsibleState.Expanded : TreeItemCollapsibleState.Collapsed : TreeItemCollapsibleState.None);\n\t\t\t\t\ttreeItem.command = {\n\t\t\t\t\t\tcommand: 'extension.openJsonSelection',\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\targuments: [new Range(this.editor.document.positionAt(valueNode.offset), this.editor.document.positionAt(valueNode.offset + valueNode.length))]\n\t\t\t\t\t};\n\t\t\t\t\ttreeItem.iconPath = this.getIcon(valueNode);\n\t\t\t\t\ttreeItem.contextValue = valueNode.type;\n\t\t\t\t\treturn treeItem;\n\t\t\t\t}\n\t\t\t\treturn null; */\n\t}\n\n\tselect(range: Range) {\n\t\tthis.editor.selection = new Selection(range.start, range.end);\n\t}\n\n\t/* private getIcon(node: json.Node): any {\n\t\tconst nodeType = node.type;\n\t\tif (nodeType === 'boolean') {\n\t\t\treturn {\n\t\t\t\tlight: this.context.asAbsolutePath(path.join('resources', 'light', 'boolean.svg')),\n\t\t\t\tdark: this.context.asAbsolutePath(path.join('resources', 'dark', 'boolean.svg'))\n\t\t\t};\n\t\t}\n\t\tif (nodeType === 'string') {\n\t\t\treturn {\n\t\t\t\tlight: this.context.asAbsolutePath(path.join('resources', 'light', 'string.svg')),\n\t\t\t\tdark: this.context.asAbsolutePath(path.join('resources', 'dark', 'string.svg'))\n\t\t\t};\n\t\t}\n\t\tif (nodeType === 'number') {\n\t\t\treturn {\n\t\t\t\tlight: this.context.asAbsolutePath(path.join('resources', 'light', 'number.svg')),\n\t\t\t\tdark: this.context.asAbsolutePath(path.join('resources', 'dark', 'number.svg'))\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t} */\n\n\t/* private getLabel(node: json.Node): string {\n\t\tif (node.parent.type === 'array') {\n\t\t\tconst prefix = node.parent.children.indexOf(node).toString();\n\t\t\tif (node.type === 'object') {\n\t\t\t\treturn prefix + ':{ }';\n\t\t\t}\n\t\t\tif (node.type === 'array') {\n\t\t\t\treturn prefix + ':[ ]';\n\t\t\t}\n\t\t\treturn prefix + ':' + node.value.toString();\n\t\t}\n\t\telse {\n\t\t\tconst property = node.parent.children[0].value.toString();\n\t\t\tif (node.type === 'array' || node.type === 'object') {\n\t\t\t\tif (node.type === 'object') {\n\t\t\t\t\treturn '{ } ' + property;\n\t\t\t\t}\n\t\t\t\tif (node.type === 'array') {\n\t\t\t\t\treturn '[ ] ' + property;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst value = this.editor.document.getText(new Range(this.editor.document.positionAt(node.offset), this.editor.document.positionAt(node.offset + node.length)));\n\t\t\treturn `${property}: ${value}`;\n\t\t}\n\t} */\n}\n","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\n\nimport {\n\twindow as Window,\n\tcommands as Commands,\n\tExtensionContext\n} from 'vscode';\n\nimport { AddonOutlineProvider } from './addonOutline';\n\nexport function activate(context: ExtensionContext) {\n\n\tconst addonOutlineProvider = new AddonOutlineProvider(context);\n\tconst view = Window.createTreeView('addonOutline',{treeDataProvider: addonOutlineProvider});\n\tcontext.subscriptions.push(view);\n\tCommands.registerCommand('addonOutline.refresh', () => addonOutlineProvider.refresh());\n\tCommands.registerCommand('addonOutline.refreshNode', offset => addonOutlineProvider.refresh(offset));\n\tCommands.registerCommand('addonOutline.renameNode', offset => addonOutlineProvider.rename(offset));\n\tCommands.registerCommand('extension.openJsonSelection', range => addonOutlineProvider.select(range));\n}"],"names":[],"sourceRoot":""}